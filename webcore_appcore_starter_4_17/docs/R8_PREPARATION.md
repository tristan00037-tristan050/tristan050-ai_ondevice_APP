# R8 준비 관점 - 다음 할 일

## 개요

R7-H 라인은 사실상 **락(Frozen) 상태**로 보고, 다음은 **R8(확장 & 고도화)** 준비로 넘어갑니다.

---

## R7-H 라인 락 상태

### 완료된 기능 (변경 금지)
- ✅ Risk Score Engine v1
- ✅ Manual Review Workbench
- ✅ On-Device Suggest Engine 인터페이스
- ✅ OS Dashboard
- ✅ Health/Ready Check
- ✅ Offline Queue
- ✅ Mock/Live 모드 분리

### 파일럿/PoC 기준선
- 이 상태를 기준으로 파일럿 운영 및 외부 PoC 진행
- 버그 수정은 허용하되, 기능 추가는 R8에서 진행

---

## R8 제안: 두 축

### 1. 도메인 확장 설계 (R8-S1)

#### 목표
회계 외 2번째 후보 도메인 1개 선택하여 동일한 구조로 확장

#### 후보 도메인
1. **HR (인사)**
   - 온디바이스 HUD: 출퇴근 기록, 휴가 신청, 급여 조회
   - Backoffice: 인사 대시보드, 승인 워크플로우
   - BFF: 인사 정책 브리지, 외부 HR 시스템 연동

2. **CS (고객 지원)**
   - 온디바이스 HUD: 고객 문의 분류, 자동 응답 제안
   - Backoffice: CS 대시보드, 에스컬레이션 워크플로우
   - BFF: CS 정책 브리지, 외부 티켓 시스템 연동

3. **보안 로그**
   - 온디바이스 HUD: 보안 이벤트 분류, 위협 탐지
   - Backoffice: 보안 대시보드, 인시던트 워크플로우
   - BFF: 보안 정책 브리지, 외부 SIEM 연동

#### 작업 내용
- **구조 복제 가능성 검증**
  - HUD: 온디바이스 폼/워크플로우
  - Web: OS Dashboard + Workbench
  - BFF: 권한/테넌트/로그 브리지

- **스켈레톤 생성**
  - `@appcore/service-core-<domain>` 패키지 생성
  - 타입/계약만 정의하는 설계 스프린트
  - 예: `@appcore/service-core-hr`, `@appcore/service-core-cs`

#### 예상 작업량
- 설계 문서: 1주
- 스켈레톤 생성: 1주
- 타입/계약 정의: 1주
- **총 3주 (R8-S1)**

---

### 2. 온디바이스 모델 고도화 기획 (R8-S2)

#### 현재 상태
- `localRuleEngineV1`: 규칙 기반 분류
- `SuggestEngine` 인터페이스로 추상화 완료

#### 목표
**"진짜 온디바이스 AI"**를 넣기 위한 사전 기획

#### 작업 내용

##### 2-1. localLLMEngineV1 설계 문서
- **입력/출력 정의**
  - 입력: 거래 설명, 금액, 통화, 메타데이터
  - 출력: 계정 코드, 분류, 신뢰도 점수, 리스크 레벨

- **파라미터 사이즈 제약**
  - 모델 크기: 100MB 이하 (온디바이스 실행 가능)
  - 추론 시간: < 500ms (사용자 경험 유지)
  - 메모리 사용량: < 200MB

- **모델 후보**
  - 경량 LLM: Llama 3.2 1B, Phi-3-mini, Gemma 2B
  - Fine-tuning 전략: 회계 도메인 특화 프롬프트
  - Quantization: INT8/INT4 양자화로 모델 크기 축소

##### 2-2. 온디바이스 추론 인프라
- **런타임 선택**
  - ONNX Runtime (크로스 플랫폼)
  - TensorFlow Lite (모바일 최적화)
  - WebNN (브라우저 네이티브)

- **캐싱 전략**
  - 동일 입력에 대한 결과 캐싱
  - 모델 로딩 지연 최소화 (Lazy Loading)

##### 2-3. 하이브리드 전략
- **온디바이스 우선, 필요 시 원격 폴백**
  - 네트워크 연결 시: BFF 원격 엔진 사용
  - 오프라인 시: 온디바이스 LLM 사용
  - 신뢰도 임계값 이하: Manual Review로 에스컬레이션

#### 예상 작업량
- 설계 문서: 2주
- 프로토타입 구현: 3주
- 성능 벤치마크: 1주
- **총 6주 (R8-S2)**

---

## R8 스프린트 계획 (제안)

### R8-S1: 도메인 확장 설계 (3주)
- Week 1: 후보 도메인 선택 및 요구사항 분석
- Week 2: 구조 복제 가능성 검증 및 스켈레톤 생성
- Week 3: 타입/계약 정의 및 문서화

### R8-S2: 온디바이스 모델 고도화 (6주)
- Week 1-2: localLLMEngineV1 설계 문서 작성
- Week 3-4: 프로토타입 구현 (경량 LLM 통합)
- Week 5: 성능 벤치마크 및 최적화
- Week 6: 하이브리드 전략 구현 및 테스트

### R8-S3: 통합 및 안정화 (2주)
- Week 1: R8-S1 + R8-S2 통합 테스트
- Week 2: 문서화 및 릴리스 준비

**총 예상 기간: 11주**

---

## R8 전 준비 작업 (지금 할 수 있는 것)

### 1. 도메인 선택 회의
- HR / CS / 보안 로그 중 1개 선택
- 선택 기준:
  - 비즈니스 임팩트
  - 기술적 복잡도
  - 고객 니즈

### 2. 온디바이스 LLM 리서치
- 경량 LLM 벤치마크 조사
- 온디바이스 추론 프레임워크 비교
- Fine-tuning 파이프라인 설계

### 3. 아키텍처 문서화
- 현재 구조(HUD + Backoffice + BFF)의 확장 가능성 문서화
- 도메인별 공통 패턴 추출
- 확장 가이드라인 작성

---

## 요약

### R7-H+4까지 = 파일럿/PoC용 제품 라인 완성 ✅

### 지금 해야 할 것
1. ✅ **릴리스 태그 찍기** (`r7-h-final-YYYYMMDD`)
2. ✅ **PoC 시연 리허설** (DEMO_15MIN_SCRIPT.md 사용)
3. ✅ **영업/파트너에게 플레이북 공유**

### 다음 단계 (R8)
1. **도메인 확장 설계** (R8-S1, 3주)
2. **온디바이스 모델 고도화** (R8-S2, 6주)
3. **통합 및 안정화** (R8-S3, 2주)

---

## 참고 문서

- [R7 Release Notes](./R7_RELEASE_NOTES.md)
- [R7-H+4 개발 브리핑](./R7H_PLUS4_DEV_BRIEF.md)
- [POC Playbook](./POC_PLAYBOOK.md)
- [15분 데모 스크립트](./DEMO_15MIN_SCRIPT.md)

